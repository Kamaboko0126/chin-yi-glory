import{d as D,u as M,r as v,c as h,k as B,o as C,w as g,a as n,b as t,t as a,f as E,F as N,l as S,i as f,j as l,_ as R}from"./index-D5D6aB-r.js";const G={class:"artwork-detail"},L={class:"container"},P={key:0,class:"loading"},T={key:1,class:"error"},V={key:2,class:"artwork-content"},q={class:"artwork-main"},Y={class:"artwork-image"},z=["src","alt"],H={class:"artwork-info"},J={class:"artwork-title"},K={class:"artwork-meta"},O={class:"meta-item"},Q={class:"meta-label"},U={class:"meta-value"},W={class:"meta-item"},X={class:"meta-label"},Z={class:"meta-value"},x={class:"meta-item"},oo={class:"meta-label"},to={class:"meta-value"},so={class:"artwork-description"},ao={class:"description-content"},eo={key:0,class:"multiple-artwork-info"},ro={class:"info-text"},no={key:3,class:"not-found"},lo=D({__name:"index",props:{id:{}},setup($){const b=$,y=B(),{locale:k}=M(),e=v(null),u=v(!0),i=v(""),c=h(()=>b.id||y.query.id||""),w=async o=>{try{const[s,r]=await Promise.all([fetch(`/locales/${o}/common.json`),fetch(`/locales/${o}/artwork.json`)]);if(s.ok&&r.ok){const[d,p]=await Promise.all([s.json(),r.json()]);f.global.setLocaleMessage(o,{...f.global.getLocaleMessage(o),common:d,artwork:p})}}catch(s){console.error("Failed to load locale messages:",s)}},I=h(()=>c.value.includes("&")),F=o=>`/artworks/${String(o).split("&")[0].padStart(2,"0")}.webp`,j=o=>{const s=o.target;s.src="/artworks/placeholder.svg"},m=async o=>{try{u.value=!0,i.value="";const s=o.split("&")[0],r=k.value,d=await fetch(`/locales/${r}/artworksIntro.json`);if(!d.ok)throw new Error("Failed to load artwork data");const _=(await d.json()).find(A=>String(A.id)===s);_?e.value=_:i.value="Artwork not found"}catch(s){console.error("Error fetching artwork:",s),i.value="Failed to load artwork data"}finally{u.value=!1}};return C(async()=>{await w(k.value),c.value?m(c.value):(i.value="No artwork ID provided",u.value=!1)}),g(k,async o=>{await w(o),c.value&&m(c.value)}),g(c,o=>{o&&m(o)}),(o,s)=>(l(),n("div",G,[t("div",L,[u.value?(l(),n("div",P,[s[3]||(s[3]=t("div",{class:"loading-spinner"},null,-1)),t("p",null,a(o.$t("common.loading")||"Loading..."),1)])):i.value?(l(),n("div",T,[t("h2",null,a(o.$t("common.error")||"Error"),1),t("p",null,a(i.value),1),t("button",{onClick:s[0]||(s[0]=r=>o.$router.go(-1)),class:"back-btn"},a(o.$t("common.back")||"Go Back"),1)])):e.value?(l(),n("div",V,[t("button",{onClick:s[1]||(s[1]=r=>o.$router.go(-1)),class:"back-btn"}," ← "+a(o.$t("common.back")||"Back"),1),t("div",q,[t("div",Y,[t("img",{src:F(e.value.id),alt:e.value.title,onError:j,class:"artwork-img"},null,40,z)]),t("div",H,[t("h1",J,a(e.value.title),1),t("div",K,[t("div",O,[t("span",Q,a(o.$t("artwork.artist")||"Artist")+":",1),t("span",U,a(e.value.artist),1)]),t("div",W,[t("span",X,a(o.$t("artwork.year")||"Year")+":",1),t("span",Z,a(e.value.year),1)]),t("div",x,[t("span",oo,a(o.$t("artwork.id")||"ID")+":",1),t("span",to,a(e.value.id),1)])]),t("div",so,[t("h3",null,a(o.$t("artwork.description")||"Description"),1),t("div",ao,[(l(!0),n(N,null,S(e.value.description,(r,d)=>(l(),n("p",{key:d},a(r),1))),128))])]),I.value?(l(),n("div",eo,[t("p",ro,a(o.$t("artwork.multipleInfo")||"This location contains multiple artworks"),1)])):E("",!0)])])])):(l(),n("div",no,[t("h2",null,a(o.$t("artwork.notFound")||"Artwork Not Found"),1),t("p",null,a(o.$t("artwork.notFoundDescription")||"The artwork you are looking for does not exist."),1),t("button",{onClick:s[2]||(s[2]=r=>o.$router.go(-1)),class:"back-btn"},a(o.$t("common.back")||"Go Back"),1)]))])]))}}),co=R(lo,[["__scopeId","data-v-a9e77832"]]);export{co as default};
