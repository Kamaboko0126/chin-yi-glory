const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DynamicCardGroup-b2x0rgcW.js","assets/index-BOz5cyXt.js","assets/index-C4nvYiGM.css","assets/DynamicCardGroup-DaEZ_KKb.css","assets/MapItem-sltrphbm.js","assets/MapItem-BZrmHLMi.css"])))=>i.map(i=>d[i]);
import{d as L,u as B,r as b,c as K,k as V,o as j,w as T,a as c,b as n,f as u,g as l,t as d,F as k,l as F,h as C,m as G,p as $,q as P,i as M,s as A,v as N,j as i,_ as H}from"./index-BOz5cyXt.js";const a={curation:{pic1:"/curation/02.webp",pic2:"/curation/03.webp",pic3:"/curation/04.webp",pic4:"/curation/05.webp",pic5:"/curation/06.webp",pic6:"/curation/07.webp",pic7:"/curation/08.webp",pic8:"/curation/09.webp",pic9:"/curation/10.webp",pic10:"/curation/11.webp",pic11:"/curation/12.webp",pic12:"/curation/13.webp"},school:{pic1:"/school/02.webp",pic2:"/school/04.webp"},founder:{pic1:"/founder/01.webp",pic2:"/founder/02.webp",pic3:"/founder/03.webp"}},R={curation:{id:"curation",titleKey:"勤益風華展覽",enTitleKey:"General Introduction of the Curation",localeFile:"curationIntro",components:[{name:"DynamicCardGroup",path:"../components/common/DynamicCardGroup.vue"}],layout:[{type:"text",content:["section1","section2"]},{type:"cards",component:"DynamicCardGroup",props:{items:[{image:a.curation.pic1,descriptionKey:"pic1"},{image:a.curation.pic2,descriptionKey:"pic2"},{image:a.curation.pic3,descriptionKey:"pic3"}],localeFile:"curationIntro",autoplayInterval:6e3}},{type:"text",content:["section3","section4","section5","section6"]},{type:"cards",component:"DynamicCardGroup",props:{items:[{image:a.curation.pic4,descriptionKey:"pic4"},{image:a.curation.pic5,descriptionKey:"pic5"},{image:a.curation.pic6,descriptionKey:"pic6"},{image:a.curation.pic7,descriptionKey:"pic7"},{image:a.curation.pic8,descriptionKey:"pic8"},{image:a.curation.pic9,descriptionKey:"pic9"},{image:a.curation.pic10,descriptionKey:"pic10"},{image:a.curation.pic11,descriptionKey:"pic11"},{image:a.curation.pic12,descriptionKey:"pic12"}],localeFile:"curationIntro",autoplayInterval:8e3}},{type:"text",content:["section7","section8"]}]},school:{id:"school",titleKey:"國立勤益科技大學",enTitleKey:"An Introduction to National Chin-Yi",subtitleKey:"勤益簡介：換個視野看｢勤益」",enSubtitleKey:"University of Technology: A Different Perspective on “Chin-Yi”",localeFile:"schoolIntro",components:[{name:"DynamicCardGroup",path:"../components/common/DynamicCardGroup.vue"}],layout:[{type:"image",image:"/school/01.webp",title:"banner"},{type:"text",content:["section1","section2","section3"]},{type:"cards",component:"DynamicCardGroup",props:{items:[{image:a.school.pic1,descriptionKey:"pic1"},{image:a.school.pic2,descriptionKey:"pic3"}],localeFile:"schoolIntro",autoplayInterval:8e3}},{type:"text",content:["section4","section5","section6","section7"]}]},founder:{id:"founder",titleKey:"張明將軍與王國秀女士",enTitleKey:"General Zhang Ming and Wang Guo-Hsiu",localeFile:"founderIntro",components:[{name:"DynamicCardGroup",path:"../components/common/DynamicCardGroup.vue"}],layout:[{type:"text",content:["section1"]},{type:"title",title:"title2"},{type:"text",content:["section2","section3","section4","section5","section6","section7","section8","section9","section10","section11"]},{type:"title",title:"title3"},{type:"text",content:["section12","section13","section14","section15","section16","section17","section18","section19","section20","section21","section22","section23"]},{type:"cards",component:"DynamicCardGroup",props:{items:[{image:a.founder.pic1,descriptionKey:"pic1"},{image:a.founder.pic2,descriptionKey:"pic2"},{image:a.founder.pic3,descriptionKey:"pic3"}],localeFile:"founderIntro",autoplayInterval:8e3}}]},foundation:{id:"foundation",titleKey:"張明王國秀基金會",enTitleKey:"Introduction of Cultural and Educational Foundation of Ming Chang and Kuo-Hsiu Wang",localeFile:"foundationIntro",components:[{name:"DynamicCardGroup",path:"../components/common/DynamicCardGroup.vue"}],layout:[{type:"text",content:["section1","section2"]},{type:"text",content:["section3","section4","section5"]},{type:"text",content:["section6"]},{type:"image",image:"/foundation/01.webp"}]},artworks:{id:"artworks",titleKey:"藝術家眼中的校園",enTitleKey:"The Chin-yi Campus Through The Eyes of Artists",subtitleKey:"副標題",enSubtitleKey:"Subtitle",localeFile:"artworksIntro",components:[{name:"MapItem",path:"../components/MapItem.vue"}],layout:[{type:"map",component:"MapItem"}]}},q={class:"language-switcher"},O={key:0,class:"loading-overlay"},W={class:"loading-spinner"},Y={class:"hero-section"},U={class:"hero-content"},Z={class:"hero-title"},J={key:0,class:"hero-subtitle"},Q={key:0,class:"text-content"},X={key:1,class:"text-content"},ee={class:"section-title"},te={key:2,class:"image-content"},oe=["src","alt"],ne={key:0,class:"image-title"},ae={key:3,class:"card-section"},ie={key:4,class:"map-section"},ce={key:1,class:"page-not-found"},se=L({__name:"DynamicPage",setup(re){const E=V(),{locale:m,t:y}=B(),s=b(null),p=b(!0),g=b({}),v=K(()=>m.value),_=K(()=>E.params.pageId),w=K(()=>_.value==="artworks"),I=t=>{m.value=t,localStorage.setItem("preferred-language",t)};async function x(t,o){try{const e=await fetch(`/locales/${t}/${o}.json`);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();M.global.setLocaleMessage(t,{...M.global.getLocaleMessage(t),...r}),console.log(`Successfully loaded ${t} messages for ${o}`)}catch(e){console.error(`Failed to load ${t} messages for ${o}:`,e)}}async function z(t){const o={},e={DynamicCardGroup:()=>A(()=>import("./DynamicCardGroup-b2x0rgcW.js"),__vite__mapDeps([0,1,2,3])),MapItem:()=>A(()=>import("./MapItem-sltrphbm.js"),__vite__mapDeps([4,1,2,5]))};for(const r of t)try{const f=r.name,h=e[f];h?o[r.name]=N(h):o[r.name]=N(()=>import(r.path))}catch(f){console.error(`Failed to load component ${r.name}:`,f)}g.value=o}async function D(t){const o=R[t];if(!o){console.error(`Page config not found for: ${t}`);return}s.value=o,await x(m.value,o.localeFile),o.components&&await z(o.components)}const S=t=>Array.isArray(t)?t.map(o=>y(o)):[y(t)];return j(async()=>{const t=localStorage.getItem("preferred-language");t&&["zh","en"].includes(t)&&(m.value=t),await D(_.value),setTimeout(()=>{p.value=!1},800)}),T(()=>_.value,async t=>{t&&(p.value=!0,await D(t),setTimeout(()=>{p.value=!1},300))}),T(m,async t=>{s.value&&(console.log(`Language switched to: ${t}`),p.value=!0,await x(t,s.value.localeFile),setTimeout(()=>{p.value=!1},300))}),(t,o)=>s.value?(i(),c("div",{key:0,class:l(["dynamic-page",{loading:p.value}])},[n("div",q,[n("button",{onClick:o[0]||(o[0]=e=>I("zh")),class:l([{active:v.value==="zh"},"lang-btn"])}," 中文 ",2),n("button",{onClick:o[1]||(o[1]=e=>I("en")),class:l([{active:v.value==="en"},"lang-btn"])}," EN ",2)]),p.value?(i(),c("div",O,[n("div",W,[o[2]||(o[2]=n("div",{class:"spinner"},null,-1)),n("p",null,d(v.value==="zh"?"載入中...":"Loading..."),1)])])):u("",!0),n("section",Y,[n("div",U,[n("h1",Z,d(v.value==="zh"?s.value.titleKey:s.value.enTitleKey),1),s.value.subtitleKey?(i(),c("p",J,d(v.value==="zh"?s.value.subtitleKey:s.value.enSubtitleKey),1)):u("",!0)])]),n("div",{class:l(["container",{"artworks-container":w.value}])},[n("section",{class:l(["content-section",{"artworks-content-section":w.value}])},[n("div",{class:l(["content-wrapper",{"artworks-content-wrapper":w.value}])},[(i(!0),c(k,null,F(s.value.layout,(e,r)=>(i(),c(k,{key:r},[e.type==="text"?(i(),c("div",Q,[n("div",{class:l(["text-block",e.className])},[(i(!0),c(k,null,F(S(e.content||""),(f,h)=>(i(),c("p",{key:`text-${r}-${h}`},d(f),1))),128))],2)])):e.type==="title"?(i(),c("div",X,[n("div",{class:l(["text-block",e.className])},[n("h2",ee,d(C(y)(e.title||"")),1)],2)])):e.type==="image"?(i(),c("div",te,[n("img",{src:e.image,alt:e.title?C(y)(e.title):"",class:l(e.className)},null,10,oe),e.title?(i(),c("p",ne,d(C(y)(e.title)),1)):u("",!0)])):e.type==="cards"?(i(),c("div",ae,[e.component&&g.value[e.component]?(i(),G(P(g.value[e.component||""]),$({key:0,class:e.className,ref_for:!0},e.props||{}),null,16,["class"])):u("",!0)])):e.type==="map"?(i(),c("div",ie,[e.component&&g.value[e.component]?(i(),G(P(g.value[e.component||""]),$({key:0,class:e.className,ref_for:!0},e.props||{}),null,16,["class"])):u("",!0)])):u("",!0)],64))),128))],2)],2)],2)],2)):(i(),c("div",ce,o[3]||(o[3]=[n("h1",null,"Page Not Found",-1),n("p",null,"The requested page configuration could not be found.",-1)])))}}),pe=H(se,[["__scopeId","data-v-0d6746cf"]]);export{pe as default};
